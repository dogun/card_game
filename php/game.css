:root { --bg:#0b0e11; --fg:#e8e8e8; --panel:#10151c; --muted:#a0a0a0; --accent:#4ea1ff; --danger:#ff6161; }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--fg);font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;background:#000}
.stage{
  position:relative; width:100%; height:100vh; background:#000 center/cover no-repeat;
  display:grid; grid-template-rows: 30% 40% 30%;
}
.topbar, .bottombar{display:grid; grid-template-columns: 25% 50% 25%; align-items:center}
.points{padding:8px; background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.08); border-radius:8px; margin:8px}
.points .big{font-size:20px; font-weight:700}
.enemy-piles, .my-piles{display:flex; justify-content:flex-end; gap:8px; padding:8px}
.pile{background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.1); padding:6px 10px; border-radius:6px}
.hand{position:relative; height:180px}
.hand-top{display:flex; align-items:flex-end; justify-content:center}
.hand-bottom{display:flex; align-items:flex-start; justify-content:center}
.card{
  position:absolute; width:110px; height:160px; background:#111; border:1px solid rgba(255,255,255,.2);
  border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,.5); overflow:hidden; cursor:pointer;
  display:flex; align-items:center; justify-content:center; color:#ddd; user-select:none;
}
.card img{width:100%; height:100%; object-fit:cover}
.card.back{background:#222 url('/pic/back.png') center/cover no-repeat}
.line{display:grid; grid-template-columns: 1fr auto 1fr; align-items:center}
.zone-label{color:var(--muted); font-size:12px; padding:4px 8px}
.zone-cards{display:flex; gap:8px; padding:8px; min-height:170px}
.hq{padding:8px 10px; border:1px solid rgba(255,255,255,.2); border-radius:8px; background:rgba(0,0,0,.35)}
.center{display:flex; flex-direction:column; align-items:center; gap:8px}
.endturn{padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,.2); background:#16202c; color:#fff}
.endturn:hover{background:#1d2c3d}
.zoom{position:fixed; inset:0; background:rgba(0,0,0,.7); display:flex; align-items:center; justify-content:center}
.zoom img{max-width:min(85vw,480px); max-height:85vh; border-radius:12px; box-shadow:0 6px 24px rgba(0,0,0,.6)}
.hidden{display:none !important;}
.modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center}
.modal-body{background:#141a22; border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:16px 20px; color:#fff}
.modal .row{display:flex; gap:12px; justify-content:center; margin-top:8px}